import{r as a}from"./react-vendor-CibYK_bk.js";import{g as L,r as y,p as _,a as A,b as R,c as O,o as M,d as j}from"./firebase-database-vendor-CbbLdNQs.js";import{T as D}from"./firebase-app-vendor-Dm8EoJqR.js";import{g as W,o as Y,s as B,G as N,a as U,c as V,u as $,b as z}from"./firebase-auth-vendor-BiLe07Fo.js";var P={exports:{}},x={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G=a,J=Symbol.for("react.element"),Q=Symbol.for("react.fragment"),q=Object.prototype.hasOwnProperty,H=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,o){var s,r={},c=null,n=null;o!==void 0&&(c=""+o),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(n=e.ref);for(s in e)q.call(e,s)&&!K.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:J,type:t,key:c,ref:n,props:r,_owner:H.current}}x.Fragment=Q;x.jsx=C;x.jsxs=C;P.exports=x;var S=P.exports;const ge={primary:"#9FBAAE",lightPrimary:"#CBDED3",darkPrimary:"#295761",backgroundApp:"#F8F8F8",backgroundPage:"#FFF",avatarBorder:"#FBE9BA",black:"#121417",grey:"#8A8A89",white:"#FFF",green:"#38CD3E",red:"#FF4D4D",orange:"#FFAA00",blue:"#3C87CD",backdrop:"rgba(107, 114, 128, 0.75)",semiTransparent:(t=.5)=>`rgba(18, 20, 23, ${t})`},he={default:"250ms cubic-bezier(0.4, 0, 0.2, 1)"},X={mobile:320,tablet:768,desktop:1280},me={menu:"-20px -2px 41px -25px rgba(107, 114, 128, 0.75)",dropdown:"0px 50px 100px -20px rgba(50, 50, 93, 0.1)"},ve={login:{title:"Log In",text:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."},registration:{title:"Registration",text:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information"},authRequiredModal:{title:"Authentication Required",text:"You need to be logged in to access this feature."},thankYouModal:{title:"Thank You!",text:"You have successfully booked a trial lesson with your language teacher."}},be={isEmpty:{noFavTeachers:"You don't have any favorite teachers yet. Add some to see them here!",noFilterTeachers:"No teachers found matching your filter criteria. Please try adjusting your filters."},isLastPage:"You have reached the end of the list of teachers."},E=D({apiKey:"AIzaSyAJEz5WYaAuD_fv08zXO3A9dr3vh6u5TSk",authDomain:"learn-lingo-connect-app.firebaseapp.com",projectId:"learn-lingo-connect-app",storageBucket:"learn-lingo-connect-app.appspot.com",messagingSenderId:"426502877429",appId:"1:426502877429:web:5a88f9fbbf507cbfca15bc",databaseURL:"https://learn-lingo-connect-app-default-rtdb.europe-west1.firebasedatabase.app"}),w=L(E),h=W(E),F=a.createContext(),ye=({children:t})=>{const e=se();return S.jsx(F.Provider,{value:e,children:t})},Z=(t,e)=>{try{const o=JSON.stringify(e);localStorage.setItem(t,o)}catch(o){console.error("Set state error: ",o.message)}},ee=t=>{try{const e=localStorage.getItem(t);return e===null?null:JSON.parse(e)}catch(e){console.error("Get state error: ",e.message)}},te=t=>{try{localStorage.removeItem(t)}catch(e){console.error("Remove state error: ",e.message)}},se=()=>{const[t,e]=a.useState(ee("user")),[o,s]=a.useState(!0);return a.useEffect(()=>{s(!0);const u=Y(h,async l=>{if(l){const{uid:d,displayName:f,email:m,photoURL:v}=l,b={uid:d,displayName:f,email:m,photoURL:v};e(b),Z("user",b)}else e(null),te("user");s(!1)});return()=>u()},[]),{user:t,isLoadingAuth:o,signin:(u,l)=>B(h,u,l),signinWithGoogleProvider:()=>{const u=new N;return U(h,u)},signup:async(u,l,d)=>{const{user:f}=await V(h,u,l);$(f,{displayName:d})},signout:()=>z(h)}},oe=()=>a.useContext(F),xe=async(t,e)=>{const o=y(w,`users/${t}/favorites`);_(o,e)},Se=async(t,e)=>{const o=y(w,`users/${t}/favorites`);(await A(o)).forEach(r=>{r.val()===e&&R(O(o,r.key))})},ae=(t,e)=>{const o=y(w,`users/${t}/favorites`),s=r=>{r.exists()?e(r.val()):e({})};return M(o,s),()=>{j(o,s)}},we=()=>{const[t,e]=a.useState([]),[o,s]=a.useState(!0),{user:r,isLoadingAuth:c}=oe();return a.useEffect(()=>{if(c)s(!0);else if(r){const n=ae(r.uid,i=>{e(Object.values(i).reverse()),s(!1)});return()=>{n()}}else s(!1)},[c,r]),[t,o]},re=async()=>{const t=[],e=y(w,"teachers"),o=await A(e);return o.exists()&&o.forEach(s=>{t.push({tid:s.key,...s.val()})}),t},ne="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ce=(t=21)=>{let e="",o=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=ne[o[t]&63];return e};const k=a.createContext(),Ae=({children:t})=>{const[e,o]=a.useState([]),s=(n,i,u=3e3)=>{const l=ce();o(d=>[...d,{id:l,type:n,message:i,duration:u}])},c={toasts:e,removeToast:n=>{o(i=>i.filter(u=>u.id!==n))},addToast:a.useMemo(()=>({success:(n,i)=>s("success",n,i),error:(n,i)=>s("error",n,i),warning:(n,i)=>s("warning",n,i),info:(n,i)=>s("info",n,i)}),[])};return S.jsx(k.Provider,{value:c,children:t})},ie=()=>a.useContext(k),Pe=()=>{const[t,e]=a.useState([]),[o,s]=a.useState([]),[r,c]=a.useState([]),[n,i]=a.useState(!0),{addToast:u}=ie();return a.useEffect(()=>{(async()=>{try{const d=await re(),f=new Set,m=new Set,v=new Set;d.forEach(p=>{p.languages.forEach(g=>f.add(g)),p.levels.forEach(g=>m.add(g)),v.add(p.price_per_hour)});const b=[...v].sort((p,g)=>p-g);e([...f]),s([...m]),c(b)}catch(d){console.error(d),u.error("Something went wrong. Please try again later or refresh the page.")}finally{i(!1)}})()},[u]),[t,o,r,n]},ue=t=>{const[e,o]=a.useState(window.matchMedia(t).matches);return a.useEffect(()=>{const s=window.matchMedia(t),r=c=>o(c.matches);return s.addEventListener("change",r),()=>{s.removeEventListener("change",r)}},[t]),e},T=a.createContext(),Ce=({children:t})=>{const[e,o]=a.useState(null),s=a.useCallback(n=>{o(n)},[]),r=a.useCallback(()=>{o(null)},[]),c={content:e,openModal:s,closeModal:r};return S.jsx(T.Provider,{value:c,children:t})},Ee=()=>a.useContext(T),I=a.createContext(),Fe=({children:t})=>{const[e,o]=a.useState(!1),s=ue(`(max-width: ${X.desktop-1}px)`);a.useEffect(()=>{s||o(!1)},[s]);const r=a.useCallback(()=>{o(!0)},[]),c=a.useCallback(()=>{o(!1)},[]),n={isSidebarOpen:e,openSidebar:r,closeSidebar:c};return S.jsx(I.Provider,{value:n,children:t})},ke=()=>a.useContext(I);export{ye as A,Ce as M,Fe as S,Ae as T,Ee as a,X as b,ge as c,ue as d,ke as e,ie as f,xe as g,we as h,Pe as i,S as j,re as k,ve as m,ce as n,be as p,Se as r,me as s,he as t,oe as u};
