import{r as a}from"./react-vendor-fKLcOhQA.js";import{g as _,r as S,p as R,a as E,b as O,c as T,o as j,d as M}from"./firebase-database-vendor-CbbLdNQs.js";import{T as D}from"./firebase-app-vendor-Dm8EoJqR.js";import{g as W,o as z,s as B,G as N,a as $,c as U,u as G,b as Y}from"./firebase-auth-vendor-BiLe07Fo.js";var w={exports:{}},y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J=a,V=Symbol.for("react.element"),Q=Symbol.for("react.fragment"),q=Object.prototype.hasOwnProperty,H=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};function P(t,e,o){var s,r={},n=null,c=null;o!==void 0&&(n=""+o),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(c=e.ref);for(s in e)q.call(e,s)&&!K.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:V,type:t,key:n,ref:c,props:r,_owner:H.current}}y.Fragment=Q;y.jsx=P;y.jsxs=P;w.exports=y;var A=w.exports;const de={primary:"#9FBAAE",lightPrimary:"#CBDED3",darkPrimary:"#295761",backgroundApp:"#F8F8F8",backgroundPage:"#FFF",avatarBorder:"#FBE9BA",black:"#121417",grey:"#8A8A89",white:"#FFF",green:"#38CD3E",red:"#FF4D4D",backdrop:"rgba(107, 114, 128, 0.75)",semiTransparent:(t=.5)=>`rgba(18, 20, 23, ${t})`},pe={default:"250ms cubic-bezier(0.4, 0, 0.2, 1)"},X={mobile:320,tablet:768,desktop:1280},fe={menu:"-20px -2px 41px -25px rgba(107, 114, 128, 0.75)",dropdown:"0px 50px 100px -20px rgba(50, 50, 93, 0.1)"},ge={login:{title:"Log In",text:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."},registration:{title:"Registration",text:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information"},authRequiredModal:{title:"Authentication Required",text:"You need to be logged in to access this feature."}},he={isEmpty:{noFavTeachers:"You don't have any favorite teachers yet. Add some to see them here!",noFilterTeachers:"No teachers found matching your filter criteria. Please try adjusting your filters."},isLastPage:"You have reached the end of the list of teachers."},F=D({apiKey:"AIzaSyAJEz5WYaAuD_fv08zXO3A9dr3vh6u5TSk",authDomain:"learn-lingo-connect-app.firebaseapp.com",projectId:"learn-lingo-connect-app",storageBucket:"learn-lingo-connect-app.appspot.com",messagingSenderId:"426502877429",appId:"1:426502877429:web:5a88f9fbbf507cbfca15bc",databaseURL:"https://learn-lingo-connect-app-default-rtdb.europe-west1.firebasedatabase.app"}),x=_(F),g=W(F),C=a.createContext(),me=({children:t})=>{const e=se();return A.jsx(C.Provider,{value:e,children:t})},Z=(t,e)=>{try{const o=JSON.stringify(e);localStorage.setItem(t,o)}catch(o){console.error("Set state error: ",o.message)}},ee=t=>{try{const e=localStorage.getItem(t);return e===null?null:JSON.parse(e)}catch(e){console.error("Get state error: ",e.message)}},te=t=>{try{localStorage.removeItem(t)}catch(e){console.error("Remove state error: ",e.message)}},se=()=>{const[t,e]=a.useState(ee("user")),[o,s]=a.useState(!0);return a.useEffect(()=>{s(!0);const i=z(g,async u=>{if(u){const{uid:m,displayName:l,email:v,photoURL:b}=u,d={uid:m,displayName:l,email:v,photoURL:b};e(d),Z("user",d)}else e(null),te("user");s(!1)});return()=>i()},[]),{user:t,isLoadingAuth:o,signin:(i,u)=>B(g,i,u),signinWithGoogleProvider:()=>{const i=new N;return $(g,i)},signup:async(i,u,m)=>{const{user:l}=await U(g,i,u);G(l,{displayName:m})},signout:()=>Y(g)}},oe=()=>a.useContext(C),ve=async(t,e)=>{const o=S(x,`users/${t}/favorites`);R(o,e)},be=async(t,e)=>{const o=S(x,`users/${t}/favorites`);(await E(o)).forEach(r=>{r.val()===e&&O(T(o,r.key))})},ae=(t,e)=>{const o=S(x,`users/${t}/favorites`),s=r=>{r.exists()?e(r.val()):e({})};return j(o,s),()=>{M(o,s)}},Se=()=>{const[t,e]=a.useState([]),[o,s]=a.useState(!0),{user:r,isLoadingAuth:n}=oe();return a.useEffect(()=>{if(n)s(!0);else if(r){const c=ae(r.uid,h=>{e(Object.values(h).reverse()),s(!1)});return()=>{c()}}else s(!1)},[n,r]),[t,o]},re=async()=>{const t=[],e=S(x,"teachers"),o=await E(e);return o.exists()&&o.forEach(s=>{t.push({tid:s.key,...s.val()})}),t},ye=()=>{const[t,e]=a.useState([]),[o,s]=a.useState([]),[r,n]=a.useState([]),[c,h]=a.useState(!0),[i,u]=a.useState(null);return a.useEffect(()=>{(async()=>{try{const l=await re(),v=new Set,b=new Set,d=new Set;l.forEach(p=>{p.languages.forEach(f=>v.add(f)),p.levels.forEach(f=>b.add(f)),d.add(p.price_per_hour)});const L=[...d].sort((p,f)=>p-f);e([...v]),s([...b]),n(L)}catch(l){u(l)}finally{h(!1)}})()},[]),[t,o,r,c,i]},ne=t=>{const[e,o]=a.useState(window.matchMedia(t).matches);return a.useEffect(()=>{const s=window.matchMedia(t),r=n=>o(n.matches);return s.addEventListener("change",r),()=>{s.removeEventListener("change",r)}},[t]),e},k=a.createContext(),xe=({children:t})=>{const[e,o]=a.useState(null),s=a.useCallback(c=>{o(c)},[]),r=a.useCallback(()=>{o(null)},[]),n={content:e,openModal:s,closeModal:r};return A.jsx(k.Provider,{value:n,children:t})},Ae=()=>a.useContext(k),I=a.createContext(),Ee=({children:t})=>{const[e,o]=a.useState(!1),s=ne(`(max-width: ${X.desktop-1}px)`);a.useEffect(()=>{s||o(!1)},[s]);const r=a.useCallback(()=>{o(!0)},[]),n=a.useCallback(()=>{o(!1)},[]),c={isSidebarOpen:e,openSidebar:r,closeSidebar:n};return A.jsx(I.Provider,{value:c,children:t})},we=()=>a.useContext(I);export{me as A,xe as M,Ee as S,Ae as a,X as b,de as c,ne as d,we as e,ve as f,Se as g,ye as h,re as i,A as j,ge as m,he as p,be as r,fe as s,pe as t,oe as u};
